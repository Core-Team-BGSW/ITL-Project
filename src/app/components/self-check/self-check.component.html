<h2>Annual Self Check Audit</h2>
<b>
  <p style="color:red;font-size:larger"> (Select Lab for Audit)</p>
</b>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<form class="search_btn" action="action_page.php">
  <input type="text" [(ngModel)]="searchQuery" placeholder="Search Lab ..." name="search"
    style="margin-left:10px;max-width:300px">
  <button class="search" (click)="onSearch()"><i class="fa fa-search"></i></button>
</form>
<p></p>
<div class="lab-list">
  <div *ngFor="let lab of labList | filter : searchQuery" class="lab-item">
    <div class="container_design">
      <div class="lab-item">
        <div class="lab-name">
          <div style="margin-left: 10px;color:#7d8389;font-size:large">
            Lab No ->Entity -> GB -> Department </div>
          <!-- this will fetch the data from the backend  -->
          <p></p>


          <div style="margin-left: 10px;font-size:larger"><b>
              {{ lab["labNo"] }}->{{ lab.entityName }} -> {{ lab.gb }} -> {{ lab.dep_name }} </b>
          </div>
        </div>

        <div class="container">
          <button (click)="toggleDetails(lab.id)" class="lab_btn">
            Lab Details
          </button>
          <button class="audit_btn" (click)="openForm(lab.entityName)">Self-Audit </button>
        </div>

      </div>



      <!-- It will fetch the details of each and every lab from the backend  -->
      <div *ngIf="isLabDetailsVisible(lab.id)" class="collapsible-content">
        <p></p>

        <div class="grid-container">
          <div class="column">
            <!-- <div *ngFor="let item of lab"> -->
            <p><strong>Region:</strong> {{ lab.region }}</p>
            <p><strong>Country:</strong> {{ lab.country }}</p>
            <p><strong>Location-Code:</strong> {{ lab.locationCode }}</p>
            <p><strong>Entity:</strong> {{ lab.entityName }}</p>
            <p><strong>GB:</strong> {{ lab.gb }}</p>
            <p><strong>Local-ITL:</strong> {{ lab.local_itl }}</p>
            <p><strong>Local-ITL Proxy:</strong> {{ lab.local_itl_proxy }}</p>
            <p><strong>Department Head:</strong> {{lab. dh }}</p>
            <p><strong>Key Account Manager:</strong> {{ lab.kam }}</p>
            <p><strong>Department:</strong> {{ lab.dep_name }}</p>
            <p><strong>Building:</strong> {{ lab.building }}</p>
            <p><strong>Floor:</strong> {{ lab.floor }}</p>
            <p><strong>Lab No/Lab Name :</strong> {{ lab.labNo }}</p>
          </div>
          <div class="column">
            <p><strong>Primary Lab Coordinator:</strong> {{ lab.primary_lab_cord
              }}</p>
            <p><strong>Secondary Lab Coordinator:</strong> {{
              lab.secondary_lab_cord }}</p>
            <p><strong>Cost Center:</strong> {{ lab.cost_center }}</p>
            <p><strong>Kind of Lab:</strong> {{ lab.kind_of_lab }}</p>
            <p><strong>Purpose of Lab:</strong> {{ lab.purpose_of_lab }}</p>
            <p><strong>Description:</strong> {{ lab.description }}</p>

            <p>
              <strong>Is lab going to procure new equipment for Engineering/Red
                Zone?</strong>
              {{ lab.new_equipment}}
            </p>
            <p>
              <strong>Shared Lab:</strong>
              {{ lab.shared_lab}}
            </p>
            <p>
              <strong>Self Audit Due Date:</strong>
              {{ lab.self_audit_date | dateFormat: 'MM/DD/yyyy'}}
            </p>
            <p>
              <strong>ACL Required:</strong>
              {{ lab.acl_req}}
            </p>

            <p><strong>No. of Green Ports:</strong> {{ lab.green_ports }}</p>
            <p><strong>No. of Yellow Ports:</strong> {{ lab.yellow_ports }}</p>
            <p><strong>No. of Red Ports:</strong> {{ lab.red_ports }}</p>

          </div>
        </div>
      </div>
    </div>

  </div>
  <div>